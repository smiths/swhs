function tests = paramsTest
tests = functiontests(localfunctions);
end

function setupOnce(testCase)
addpath('Matlab');
addpath('..');
end

function paramTest(testCase)
expParams = struct('L', 1.5,...
                'diam', 0.412,...
                'Vp', 0.05,...
                'Ap', 1.2,...
                'rho_p', 1007,...
                'Tmelt', 44.2,...
                'C_ps', 1760,...
                'C_pl', 2270,...
                'Hf', 211600,...
                'Ac', 0.12,...
                'Tc', 50.0,...
                'rho_w', 1000,...
                'C_w', 4186.0,...
                'hc', 1000.0,...
                'hp', 1000.0,...
                'Tinit', 40.0,...
                'tstep', 10.0,...
                'tfinal', 50000,...
                'AbsTol', 1e-10,...
                'RelTol', 1e-10,...
                'Vt', 0.1999749387716,...
                'Mw', 149.9749387716,...
                'tau_w', 5.23162578081614e+03,...
                'eta', 10,...
                'Mp', 50.35,...
                'tau_ps', 73.84666666666667,...
                'tau_pl', 95.24541666666667,...
                'Epmelt_init', 3.721872e+05,...
                'Ep_melt3', 10654060,...
                'Mw_noPCM', 199.9749387716,...
                'tau_w_noPCM', 6.97579244748e+03)
actParams = load_params('M01.txt')
verifyEqual(testCase, actParams, expParams, 'RelTol', 1e-10)
end